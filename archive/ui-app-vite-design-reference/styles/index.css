/**
 * Main Stylesheet - Mission Control Pulse Dashboard
 * Story 7.1: Design Tokens & Layout Shell
 */

/* 1. Typography (font-face declarations) - must come before Tailwind */
@import './typography.css';

/* 2. Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 3. Global custom properties */
@layer base {
	:root {
		/* Color Tokens */
		--color-primary: #ff4f00;
		--color-surface: #201515;
		--color-surface-elevated: #2b2358;
		--color-accent-1: #c1b7ff;
		--color-accent-2: #cde4e1;
		--color-alert-success: #1f3121;
		--color-alert-warning: #ffbf6e;
		--color-alert-error: #ff4f00;
		--color-neutral-100: #fffdf9;
		--color-neutral-400: #fff3e6;

		/* Typography Tokens */
		--font-family-headline: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
		--font-family-body: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
		--font-family-mono: ui-monospace, 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;

		--font-size-h1: 2.5rem;
		--font-size-h2: 1.75rem;
		--font-size-h3: 1.5rem;
		--font-size-body: 1rem;
		--font-size-caption: 0.875rem;
		--font-size-mono: 0.875rem;

		--line-height-tight: 1.2;
		--line-height-normal: 1.45;
		--line-height-relaxed: 1.6;

		/* Spacing Tokens */
		--spacing-xs: 4px;
		--spacing-sm: 8px;
		--spacing-md: 12px;
		--spacing-lg: 16px;
		--spacing-xl: 24px;
		--spacing-2xl: 32px;
		--spacing-3xl: 48px;

		/* Layout Tokens */
		--layout-max-width: 1440px;
		--layout-hero-rail-min-width: 340px;

		/* Elevation Tokens */
		--shadow-card-base: 0 1px 3px rgba(0, 0, 0, 0.1);
		--shadow-card-active: 0 0 20px rgba(255, 79, 0, 0.3), 0 4px 12px rgba(0, 0, 0, 0.2);
		--shadow-modal: 0 20px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 0, 0, 0.2);
		--shadow-tooltip: 0 4px 6px rgba(0, 0, 0, 0.2);
		--shadow-dropdown: 0 10px 15px rgba(0, 0, 0, 0.2);

		--border-card-base: 1px solid rgba(255, 253, 249, 0.1);
		--border-card-active: 1px solid #ff4f00;
	}

	/* Base styles */
	body {
		font-family: var(--font-family-body);
		font-size: var(--font-size-body);
		line-height: var(--line-height-normal);
		color: var(--color-neutral-100);
		background-color: var(--color-surface);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	/* Heading styles */
	h1 {
		font-family: var(--font-family-headline);
		font-size: var(--font-size-h1);
		line-height: var(--line-height-tight);
		font-weight: 700;
	}

	h2 {
		font-family: var(--font-family-headline);
		font-size: var(--font-size-h2);
		line-height: var(--line-height-tight);
		font-weight: 500;
	}

	h3 {
		font-family: var(--font-family-headline);
		font-size: var(--font-size-h3);
		line-height: var(--line-height-tight);
		font-weight: 500;
	}

	/* Code/mono styles */
	code,
	pre {
		font-family: var(--font-family-mono);
		font-size: var(--font-size-mono);
	}

	/* Focus styles for accessibility */
	*:focus-visible {
		outline: 2px solid var(--color-primary);
		outline-offset: 2px;
	}
}

/* 4. Component layer utilities */
@layer components {
	/* Card base styles */
	.card-base {
		background-color: var(--color-surface-elevated);
		border: var(--border-card-base);
		box-shadow: var(--shadow-card-base);
		border-radius: 8px;
	}

	.card-active {
		background-color: var(--color-surface-elevated);
		border: var(--border-card-active);
		box-shadow: var(--shadow-card-active);
		border-radius: 8px;
	}

	/* Pulse animation for running state */
	@keyframes pulse-opacity {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.7;
		}
	}

	.animate-pulse-opacity {
		animation: pulse-opacity 1s ease-in-out infinite;
	}

	/* Spinner animation */
	@keyframes spin {
		to {
			transform: rotate(360deg);
		}
	}

	.animate-spin {
		animation: spin 1s linear infinite;
	}

	/* Fade in animation */
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.animate-fade-in {
		animation: fade-in 150ms ease-out;
	}

	/* Slide in animation */
	@keyframes slide-in {
		from {
			transform: translateY(-4px);
			opacity: 0;
		}
		to {
			transform: translateY(0);
			opacity: 1;
		}
	}

	.animate-slide-in {
		animation: slide-in 150ms ease-out;
	}

	/* Shake animation for errors */
	@keyframes shake {
		0%,
		100% {
			transform: translateX(0);
		}
		10%,
		30%,
		50%,
		70%,
		90% {
			transform: translateX(-4px);
		}
		20%,
		40%,
		60%,
		80% {
			transform: translateX(4px);
		}
	}

	.animate-shake {
		animation: shake 400ms ease-in-out;
	}

	/* Slide in from right animation (for drawer) */
	@keyframes slide-in-right {
		from {
			transform: translateX(100%);
			opacity: 0;
		}
		to {
			transform: translateX(0);
			opacity: 1;
		}
	}

	.animate-slide-in-right {
		animation: slide-in-right 200ms ease-out;
	}

	/* Accordion animations */
	@keyframes accordion-down {
		from {
			height: 0;
		}
		to {
			height: var(--radix-accordion-content-height);
		}
	}

	@keyframes accordion-up {
		from {
			height: var(--radix-accordion-content-height);
		}
		to {
			height: 0;
		}
	}

	.animate-accordion-down {
		animation: accordion-down 200ms ease-out;
	}

	.animate-accordion-up {
		animation: accordion-up 200ms ease-out;
	}

	/* Slide down animation for expanded sections */
	@keyframes slide-down {
		from {
			opacity: 0;
			transform: translateY(-10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-slide-down {
		animation: slide-down 200ms ease-out;
	}

	/* Pulse highlight animation for new entries */
	@keyframes pulse-highlight {
		0% {
			background-color: rgba(255, 79, 0, 0.2);
		}
		100% {
			background-color: transparent;
		}
	}

	.animate-pulse-highlight {
		animation: pulse-highlight 1s ease-out forwards;
	}

	/* Utility for reduced motion */
	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
		}

		.animate-pulse-opacity,
		.animate-spin,
		.animate-fade-in,
		.animate-slide-in,
		.animate-slide-in-right,
		.animate-shake,
		.animate-accordion-down,
		.animate-accordion-up,
		.animate-slide-down,
		.animate-pulse-highlight {
			animation: none !important;
		}
	}
}

/* 5. Utility overrides */
@layer utilities {
	/* Text gradient for special headings */
	.text-gradient-primary {
		background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent-1) 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	/* Glow effect for active elements */
	.glow-primary {
		box-shadow: 0 0 20px rgba(255, 79, 0, 0.3);
	}

	/* Scrollbar styling for dark theme */
	.scrollbar-dark::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.scrollbar-dark::-webkit-scrollbar-track {
		background: var(--color-surface);
	}

	.scrollbar-dark::-webkit-scrollbar-thumb {
		background: var(--color-neutral-400);
		border-radius: 4px;
	}

	.scrollbar-dark::-webkit-scrollbar-thumb:hover {
		background: var(--color-primary);
	}
}
